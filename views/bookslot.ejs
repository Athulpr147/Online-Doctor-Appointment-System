<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="https://www.freeiconspng.com/thumbs/doctor-logo/doctor-symbol-health-green-clipart-10.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <title>Dr.Manik Dalvi</title>
</head>
<body>
  <% if (appointments.length > 0) { %>
    <div class="appointment-ball" type="button" data-bs-toggle="modal" data-bs-target="#appoint">
      <p> Your Appointments</p>
      </div>
  <% } %>
  
    <!-- Navbar -->
    <nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
          <a class="navbar-brand ms-4" style="font-weight: 500;">Book Doctor</a>


                  
                <div class="dropdown me-5" id="ifLoginedShow">
                    <button class="btn dropdown-toggle" type="button" id="profileName" data-bs-toggle="dropdown" aria-expanded="false" style="font-weight: 500;"> 
                     Hi,
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="profileName">
                      <li><p type="button" data-bs-toggle="modal" data-bs-target="#appoint" style="font-weight: 500; margin-left: 15px;">Your Bookings</p></li>
                      <li><p><a class="dropdown-item" href="/logout" style="font-weight: 500;">Logout</a></p></li>
                      <!-- <li><a class="dropdown-item" href="#" style="font-weight: 500;"></a></li> -->
                    </ul>
                  </div>
                  
            

          <div style="display: none;" class="me-5" id="ifNotLoginedShow">
            <a href="/login" style="font-weight: 500;">Login</a>
          </div>

        </div>
      </nav>
   
      <!-- section -->
      <div class="container section-1 d-flex " >
        <img src="img/profile.png" alt="">
        <div style="margin-top: 40px">
            <h5 style="font-size:17px ;"> Dr. Manik Dalvi</h5>
            <p>Obstetrics & Gynecology</p>
            <h6 style="text-decoration: underline; cursor: pointer;">View profile</h6>
        </div>   
    </div>
 <!-- Section-2 -->
   <div class="container section-2 p-3 pb-5" id="booking_page" style="display: nolne;">
   <div class="row">
    <div class="col-12 col-lg-6">
        <h5 style="font-size: 17px;">Book Appointment</h5>
   <p style="color: grey;">Select Your Consultation Type</p>
 <h6 style="font-size: 16px; font-weight: 600; color: rgba(218, 26, 26, 0.575);">Fees â‚¹500  <span id="onlinepayornot"></span></h6>
    </div>
    
    <div class="col-12 col-lg-6 d-flex justify-content-around align-items-center consult-type">
        <label for="inClinic" id="select-inClinic" class="select-active">
            <img src="https://remedoapp.com/rweb/assets/default/images/svg-img/new-img/In-Clinic_b.png" alt="">
            <p>In-Clinic</p></label>
        <label for="audio" id="select-audio">
            <img src="https://remedoapp.com/rweb/assets/default/images/svg-img/new-img/Audio_b.png" alt="">
            <p>Audio</p></label>
        <label for="video" id="select-video">
            <img src="https://remedoapp.com/rweb/assets/default/images/svg-img/new-img/video_b.png" alt="">
            <p>Video</p></label>
    </div>
    <span style="display: none;">
        <input type="radio" id="inClinic" name="appointmentType" value="inClinic" checked>
        <input type="radio" id="audio" name="appointmentType" value="audio">
        <input type="radio" id="video" name="appointmentType" value="video">
    </span>
   </div>

   <h5 class="mt-4">Clinic Name</h5>
   <p> <b>Manik Dalvi's Clinic</b> , Kalyan Naka, Rk Business Centre, Opp. Bopal Nagar, Maharashtra, 421302</p>

   <div class="container-fluid">
    <div class="row d-flex justify-content-center align-items-center " >
        <div class="col d-flex justify-content-center align-items-center"><h6 class="date-selection py-3 p-0 px-lg-5 date-active" id="dateToday" style="cursor: pointer;">Today</h6></div>
        <div class="col d-flex justify-content-center align-items-center"><h6 class="date-selection py-3 p-0 px-lg-5 " id="dateTomorrow" style="cursor: pointer;">Tomorrow</h6></div>
        <div class="col d-flex justify-content-center align-items-center">
            <h6 class="date-selection py-3 p-0 px-lg-5 d-flex align-items-center" id="dateSelect">
                <label for="selectDate" class="me-1" onclick="showDatePicker()" style="cursor: default;" id="sellabel">Select Date</label>
                <input type="date" id="selectDate" class="form-control" style="cursor: pointer;" onchange="getSelectedDate()">
                
            </h6>
        </div>
    </div>
    
   </div>
   <div class="row d-flex ">
    <div class=" col-4 d-flex align-items-center justify-content-center selectTime">  <h6  id="a">10:00am</h6>  </div>
    <div class=" col-4 d-flex align-items-center justify-content-center selectTime" >  <h6 id="b">11:00am</h6>  </div>
    <div class=" col-4 d-flex align-items-center justify-content-center selectTime" >  <h6 id="c">12:00am</h6>  </div>
    <div class=" col-4 d-flex align-items-center justify-content-center selectTime" >  <h6 id="d">01:00pm</h6>  </div>
    <div class=" col-4 d-flex align-items-center justify-content-center selectTime" >  <h6 id="e">01:00pm</h6>  </div>
    <div class=" col-4 d-flex align-items-center justify-content-center selectTime" >  <h6 id="f">02:00pm</h6>  </div>
    
    
     
   </div>   
   <div class="container d-flex justify-content-end " style="margin-top: 20px; margin-right: 30px;">
    <span class="me-3" id="continue_err" style="color: rgb(6, 116, 24);"></span>
    <button class="btn btn-primary" id="continue_appointment">Continue</button>

 </div>
 </div>
 
  

   <!-- Continue appoinment page -->
   <div class="container section-3 p-3 pb-5 pt-5" id="continue_page" style="display: none;">
    <h5 class="ms-3 ">Appointment summary</h5>
    <h6 class="ms-3">Manik Dalvi's Clinic</h6>
    <h6 class="ms-3"> <b>Time - </b><span id="showTime"></span></h6>
    <h6 class="ms-3"><b>Date - </b><span id="showDate"></span></h6>
    <h6 class="ms-3"><b>Type - </b><span id="appoType"></span></h6>

    <div class="email_otp container">
        <h5>Enter Email to continue</h5>
        <p>Please verify your Email address to complete</p>
       <span style="display: nonek;" id="emailInput">
         <input type="email" id="email" value="<%= userEmail %>"> <button id="sent_otp">Sent otp</button></span><span class="ms-2" id="sending"></span>
         <p id="email_err"></p>
       <span style="display: none;" id="otpInput"> 
        <input type="number" id="otp" maxlength="4" style="width: 100px; text-align: center;"> <button id="submitOTP">Submit otp</button></span>
        <p id="otp_ERR"></p>
    </div>

   </div>
    


   <div class="modal fade" id="appoint" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Your Appointments</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <% if (appointments.length > 0) { %>
            <% appointments.forEach(element => { %>
              <div class="container row app-card">
                <div class="col-6">
                  <p>Dr. Manik Dalvi</p>
                  <p>Obstetrics & Gynecology</p>
                  <p>Status : <span style="color: green;">Confirmed</span></p>
                  <p>Appointment Type : <%= element.appointmentType %></p>
                </div>


                <div class="col-6">
                   <p>Name : <%= element.name %></p>
                   <p>Email: <%= element.aEmail %></p>
                   <p>Date : <%= element.date %></p>
                   <p>Time : <%= element.timeSlot %></p>
                </div>

              </div>
            <% }) %>
            <% } else { %>
             <div class="container" style="text-align: center;">
              <h3>No Appointments</h3>
             </div>
          <% } %>
          
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>


    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
<script src="script.js"></script>
</body>
</html>